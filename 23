-- UI Library для создания интерфейса
-- Версия: 1.0
-- Создатель: FelSSJ

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local Player = Players.LocalPlayer

local Library = {}
Library.__index = Library

-- Цвета
local AccentColor = Color3.fromRGB(150, 17, 255)
local BackgroundColor = Color3.fromRGB(35, 35, 35)
local ElementColor = Color3.fromRGB(22, 22, 22)

-- Создание главного окна
function Library:CreateWindow(name, gameName)
    local self = setmetatable({}, Library)
    
    -- Инициализация переменных
    self.Tabs = {}
    self.CurrentTab = nil
    self.Notifications = {}
    
    self.Window = Instance.new("ScreenGui")
    self.Window.Name = "UI"
    self.Window.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    self.Window.Parent = CoreGui
    
    self.MainFrame = Instance.new("Frame")
    self.MainFrame.Name = "MainFrame"
    self.MainFrame.Size = UDim2.new(0, 584, 0, 360)
    self.MainFrame.Position = UDim2.new(0.155, 0, 0.332, 0)
    self.MainFrame.BackgroundColor3 = BackgroundColor
    self.MainFrame.BackgroundTransparency = 0.2
    self.MainFrame.BorderSizePixel = 0
    self.MainFrame.Parent = self.Window
    
    local UICorner = Instance.new("UICorner")
    UICorner.Parent = self.MainFrame
    
    -- Logo Zone
    local LogoZone = Instance.new("Frame")
    LogoZone.Name = "LogoZone"
    LogoZone.Size = UDim2.new(0, 140, 0, 40)
    LogoZone.Position = UDim2.new(0, 0, 0, 0)
    LogoZone.BackgroundTransparency = 1
    LogoZone.Parent = self.MainFrame
    
    local Logo = Instance.new("ImageLabel")
    Logo.Name = "Logo"
    Logo.Size = UDim2.new(0, 30, 0, 30)
    Logo.Position = UDim2.new(0.064, 0, 0.155, 0)
    Logo.Image = "rbxassetid://125196888175857"
    Logo.BackgroundTransparency = 1
    Logo.Parent = LogoZone
    
    local PizdecWare = Instance.new("TextLabel")
    PizdecWare.Name = "PizdecWare"
    PizdecWare.Size = UDim2.new(0, 87, 0, 21)
    PizdecWare.Position = UDim2.new(1, 0, 0, 0)
    PizdecWare.Text = name or "PizdecWare"
    PizdecWare.TextColor3 = Color3.fromRGB(255, 255, 255)
    PizdecWare.TextSize = 16
    PizdecWare.Font = Enum.Font.SourceSansBold
    PizdecWare.BackgroundTransparency = 1
    PizdecWare.Parent = Logo
    
    local Game = Instance.new("TextLabel")
    Game.Name = "Game"
    Game.Size = UDim2.new(0, 78, 0, 19)
    Game.Position = UDim2.new(1.3, 0, 0.367, 0)
    Game.Text = gameName or "Multicrew Tank"
    Game.TextColor3 = Color3.fromRGB(161, 161, 161)
    Game.TextSize = 10
    Game.Font = Enum.Font.SourceSansBold
    Game.TextXAlignment = Enum.TextXAlignment.Left
    Game.BackgroundTransparency = 1
    Game.Parent = Logo
    
    -- Tab Zone
    self.TabZone = Instance.new("Frame")
    self.TabZone.Name = "TabZone"
    self.TabZone.Size = UDim2.new(0, 140, 0, 280)
    self.TabZone.Position = UDim2.new(0, 0, 0.129, 0)
    self.TabZone.BackgroundTransparency = 1
    self.TabZone.Parent = self.MainFrame
    
    local TabSectionName = Instance.new("TextLabel")
    TabSectionName.Name = "TabSectionName"
    TabSectionName.Size = UDim2.new(0, 125, 0, 21)
    TabSectionName.Position = UDim2.new(0.064, 0, -0.019, 0)
    TabSectionName.Text = "Tabs"
    TabSectionName.TextColor3 = Color3.fromRGB(161, 161, 161)
    TabSectionName.TextSize = 12
    TabSectionName.Font = Enum.Font.SourceSansBold
    TabSectionName.TextXAlignment = Enum.TextXAlignment.Left
    TabSectionName.BackgroundTransparency = 1
    TabSectionName.Parent = self.TabZone
    
    -- Element Container
    self.ElementContainer = Instance.new("Frame")
    self.ElementContainer.Name = "ElementContainer"
    self.ElementContainer.Size = UDim2.new(0, 450, 0, 360)
    self.ElementContainer.Position = UDim2.new(0.229, 0, 0, 0)
    self.ElementContainer.BackgroundColor3 = Color3.fromRGB(38, 38, 38)
    self.ElementContainer.BackgroundTransparency = 0.2
    self.ElementContainer.Parent = self.MainFrame
    
    local UICorner2 = Instance.new("UICorner")
    UICorner2.Parent = self.ElementContainer
    
    self.ElementZone = Instance.new("ScrollingFrame")
    self.ElementZone.Name = "ElementZone"
    self.ElementZone.Size = UDim2.new(1, 0, 1, -40)
    self.ElementZone.Position = UDim2.new(0, 0, 0.111, 0)
    self.ElementZone.BackgroundTransparency = 1
    self.ElementZone.BorderSizePixel = 0
    self.ElementZone.ScrollBarThickness = 4
    self.ElementZone.CanvasSize = UDim2.new(0, 0, 0, 0)
    self.ElementZone.Parent = self.ElementContainer
    
    local OpenedTab = Instance.new("TextLabel")
    OpenedTab.Name = "OpenedTab"
    OpenedTab.Size = UDim2.new(0, 79, 0, 30)
    OpenedTab.Position = UDim2.new(0.021, 0, 0.017, 0)
    OpenedTab.Text = "Tab 1"
    OpenedTab.TextColor3 = Color3.fromRGB(255, 255, 255)
    OpenedTab.TextSize = 16
    OpenedTab.Font = Enum.Font.SourceSansBold
    OpenedTab.TextXAlignment = Enum.TextXAlignment.Left
    OpenedTab.BackgroundTransparency = 1
    OpenedTab.Parent = self.ElementContainer
    
    self.OpenedTabLabel = OpenedTab
    
    -- Profile Zone
    local ProfileZone = Instance.new("Frame")
    ProfileZone.Name = "ProfileZone"
    ProfileZone.Size = UDim2.new(0, 130, 0, 30)
    ProfileZone.Position = UDim2.new(0.007, 0, 0.903, 0)
    ProfileZone.BackgroundTransparency = 1
    ProfileZone.Parent = self.MainFrame
    
    local ImageLabel = Instance.new("ImageLabel")
    ImageLabel.Size = UDim2.new(0, 22, 0, 22)
    ImageLabel.Position = UDim2.new(0.031, 0, 0.133, 0)
    ImageLabel.Image = "rbxassetid://72425084754297"
    ImageLabel.BackgroundTransparency = 1
    
    local UICorner3 = Instance.new("UICorner")
    UICorner3.CornerRadius = UDim.new(1, 0)
    UICorner3.Parent = ImageLabel
    
    local DiscordName = Instance.new("TextLabel")
    DiscordName.Name = "DiscordName"
    DiscordName.Size = UDim2.new(0, 88, 0, 23)
    DiscordName.Position = UDim2.new(1.409, 0, -0.222, 0)
    DiscordName.Text = Player.Name
    DiscordName.TextColor3 = Color3.fromRGB(255, 255, 255)
    DiscordName.TextSize = 12
    DiscordName.Font = Enum.Font.SourceSansBold
    DiscordName.BackgroundTransparency = 1
    DiscordName.Parent = ImageLabel
    
    ImageLabel.Parent = ProfileZone
    
    -- Lines
    local Line1 = Instance.new("Frame")
    Line1.Name = "Line"
    Line1.Size = UDim2.new(0, 120, 0, 1)
    Line1.Position = UDim2.new(0.017, 0, 0.111, 0)
    Line1.BackgroundColor3 = Color3.fromRGB(161, 161, 161)
    Line1.BackgroundTransparency = 0.7
    Line1.Parent = self.MainFrame
    
    local Line2 = Instance.new("Frame")
    Line2.Name = "Line"
    Line2.Size = UDim2.new(0, 120, 0, 1)
    Line2.Position = UDim2.new(0.017, 0, 0.901, 0)
    Line2.BackgroundColor3 = Color3.fromRGB(161, 161, 161)
    Line2.BackgroundTransparency = 0.7
    Line2.Parent = self.MainFrame
    
    local Line3 = Instance.new("Frame")
    Line3.Name = "Line"
    Line3.Size = UDim2.new(0, 450, 0, 1)
    Line3.Position = UDim2.new(0.229, 0, 0.111, 0)
    Line3.BackgroundColor3 = Color3.fromRGB(161, 161, 161)
    Line3.BackgroundTransparency = 0.7
    Line3.Parent = self.MainFrame
    
    return self
end

-- Функция для обновления CanvasSize
local function updateCanvasSize(elementZone)
    if not elementZone then return end
    local maxY = 0
    for _, child in ipairs(elementZone:GetChildren()) do
        if child:IsA("Frame") and child.Visible then
            local absoluteY = child.AbsolutePosition.Y + child.AbsoluteSize.Y
            if absoluteY > maxY then
                maxY = absoluteY
            end
        end
    end
    if maxY > 0 then
        elementZone.CanvasSize = UDim2.new(0, 0, 0, maxY + 20)
    end
end

-- Создание таба
function Library:CreateTab(name, icon)
    local TabButton = Instance.new("TextButton")
    TabButton.Name = name
    TabButton.Size = UDim2.new(0, 120, 0, 25)
    TabButton.Position = UDim2.new(0.064, 0, 0.054 + (#self.Tabs * 0.089), 0)
    TabButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TabButton.BackgroundTransparency = #self.Tabs == 0 and 0.9 or 1
    TabButton.Text = ""
    TabButton.Parent = self.TabZone
    
    local UICorner = Instance.new("UICorner")
    UICorner.Parent = TabButton
    
    local TabLogo = Instance.new("ImageLabel")
    TabLogo.Name = "TabLogo"
    TabLogo.Size = UDim2.new(0, 14, 0, 14)
    TabLogo.Position = UDim2.new(0.067, 0, 0.2, 0)
    TabLogo.Image = icon or "rbxassetid://12614416478"
    TabLogo.ImageColor3 = #self.Tabs == 0 and AccentColor or Color3.fromRGB(161, 161, 161)
    TabLogo.BackgroundTransparency = 1
    TabLogo.Parent = TabButton
    
    local TabName = Instance.new("TextLabel")
    TabName.Name = "TabName"
    TabName.Size = UDim2.new(0, 89, 0, 23)
    TabName.Position = UDim2.new(0.25, 0, -0.04, 0)
    TabName.Text = name
    TabName.TextColor3 = #self.Tabs == 0 and AccentColor or Color3.fromRGB(161, 161, 161)
    TabName.TextSize = 14
    TabName.Font = Enum.Font.SourceSansBold
    TabName.TextXAlignment = Enum.TextXAlignment.Left
    TabName.BackgroundTransparency = 1
    TabName.Parent = TabButton
    
    -- Tab Container
    local TabContainer = Instance.new("Frame")
    TabContainer.Name = name .. "Container"
    TabContainer.Size = UDim2.new(1, 0, 1, 0)
    TabContainer.Position = UDim2.new(0, 0, 0, 0)
    TabContainer.BackgroundTransparency = 1
    TabContainer.Visible = #self.Tabs == 0
    TabContainer.Parent = self.ElementZone
    
    local Tab = {
        Name = name,
        Button = TabButton,
        Container = TabContainer,
        Sections = {}
    }
    
    table.insert(self.Tabs, Tab)
    
    if #self.Tabs == 1 then
        self.CurrentTab = Tab
    end
    
    -- Переключение табов
    TabButton.MouseButton1Click:Connect(function()
        self:SwitchTab(Tab)
    end)
    
    -- Hover эффект
    TabButton.MouseEnter:Connect(function()
        if self.CurrentTab ~= Tab then
            TweenService:Create(TabButton, TweenInfo.new(0.2), {BackgroundTransparency = 0.95}):Play()
        end
    end)
    
    TabButton.MouseLeave:Connect(function()
        if self.CurrentTab ~= Tab then
            TweenService:Create(TabButton, TweenInfo.new(0.2), {BackgroundTransparency = 1}):Play()
        end
    end)
    
    return Tab
end

-- Переключение табов
function Library:SwitchTab(tab)
    if self.CurrentTab == tab then return end
    
    -- Обновляем старый таб
    if self.CurrentTab then
        TweenService:Create(self.CurrentTab.Button, TweenInfo.new(0.2), {
            BackgroundTransparency = 1
        }):Play()
        local oldLogo = self.CurrentTab.Button:FindFirstChild("TabLogo")
        local oldName = self.CurrentTab.Button:FindFirstChild("TabName")
        if oldLogo then
            TweenService:Create(oldLogo, TweenInfo.new(0.2), {
                ImageColor3 = Color3.fromRGB(161, 161, 161)
            }):Play()
        end
        if oldName then
            TweenService:Create(oldName, TweenInfo.new(0.2), {
                TextColor3 = Color3.fromRGB(161, 161, 161)
            }):Play()
        end
        self.CurrentTab.Container.Visible = false
    end
    
    -- Обновляем новый таб
    self.CurrentTab = tab
    TweenService:Create(tab.Button, TweenInfo.new(0.2), {
        BackgroundTransparency = 0.9
    }):Play()
    local newLogo = tab.Button:FindFirstChild("TabLogo")
    local newName = tab.Button:FindFirstChild("TabName")
    if newLogo then
        TweenService:Create(newLogo, TweenInfo.new(0.2), {
            ImageColor3 = AccentColor
        }):Play()
    end
    if newName then
        TweenService:Create(newName, TweenInfo.new(0.2), {
            TextColor3 = AccentColor
        }):Play()
    end
    tab.Container.Visible = true
    
    if self.OpenedTabLabel then
        self.OpenedTabLabel.Text = tab.Name
    end
end

-- Создание секции
function Library:CreateSection(tab, name, position)
    local Section = Instance.new("Frame")
    Section.Name = name
    Section.Size = UDim2.new(0, 210, 0, 100)
    Section.Position = position or UDim2.new(0.533, 0, 0.067, 0)
    Section.BackgroundColor3 = ElementColor
    Section.BackgroundTransparency = 0.6
    Section.Parent = tab.Container
    
    local UICorner = Instance.new("UICorner")
    UICorner.Parent = Section
    
    local UIStroke = Instance.new("UIStroke")
    UIStroke.Parent = Section
    
    local SectionName = Instance.new("TextLabel")
    SectionName.Name = "SectionName"
    SectionName.Size = UDim2.new(0, 78, 0, 19)
    SectionName.Position = UDim2.new(0.038, 0, -0.193, 0)
    SectionName.Text = name
    SectionName.TextColor3 = Color3.fromRGB(161, 161, 161)
    SectionName.TextSize = 12
    SectionName.Font = Enum.Font.SourceSansBold
    SectionName.TextXAlignment = Enum.TextXAlignment.Left
    SectionName.BackgroundTransparency = 1
    SectionName.Parent = Section
    
    local sectionData = {
        Frame = Section,
        Elements = {},
        YOffset = 0
    }
    
    table.insert(tab.Sections, sectionData)
    
    -- Обновляем CanvasSize после добавления секции
    RunService.Heartbeat:Wait()
    updateCanvasSize(self.ElementZone)
    
    return sectionData
end

-- Создание тоггла
function Library:CreateToggle(section, name, default, callback)
    local ToggleZone = Instance.new("Frame")
    ToggleZone.Name = "ToggleZone"
    ToggleZone.Size = UDim2.new(0, 210, 0, 30)
    ToggleZone.Position = UDim2.new(0, 0, 0, section.YOffset)
    ToggleZone.BackgroundTransparency = 1
    ToggleZone.Parent = section.Frame
    
    local ToggleName = Instance.new("TextLabel")
    ToggleName.Name = "ToggleName"
    ToggleName.Size = UDim2.new(0, 79, 0, 30)
    ToggleName.Position = UDim2.new(0.07, 0, 0, 0)
    ToggleName.Text = name
    ToggleName.TextColor3 = Color3.fromRGB(161, 161, 161)
    ToggleName.TextSize = 12
    ToggleName.Font = Enum.Font.SourceSansBold
    ToggleName.TextXAlignment = Enum.TextXAlignment.Left
    ToggleName.BackgroundTransparency = 1
    ToggleName.Parent = ToggleZone
    
    local Line = Instance.new("Frame")
    Line.Name = "Line"
    Line.Size = UDim2.new(0, 190, 0, 1)
    Line.Position = UDim2.new(0.054, 0, 0.994, 0)
    Line.BackgroundColor3 = Color3.fromRGB(161, 161, 161)
    Line.BackgroundTransparency = 0.95
    Line.Parent = ToggleZone
    
    local Toggle = Instance.new("TextButton")
    Toggle.Name = "Toggle"
    Toggle.Size = UDim2.new(0, 30, 0, 16)
    Toggle.Position = UDim2.new(0.761, 0, 0.233, 0)
    Toggle.BackgroundColor3 = default and AccentColor or Color3.fromRGB(29, 29, 29)
    Toggle.Text = ""
    Toggle.Parent = ToggleZone
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(1, 0)
    UICorner.Parent = Toggle
    
    local ToggleMover = Instance.new("TextButton")
    ToggleMover.Name = "ToggleMover"
    ToggleMover.Size = UDim2.new(0, 12, 0, 12)
    ToggleMover.Position = UDim2.new(default and 0.45 or 0, 2, 0.125, 0)
    ToggleMover.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    ToggleMover.Text = ""
    ToggleMover.Parent = Toggle
    
    local UICorner2 = Instance.new("UICorner")
    UICorner2.CornerRadius = UDim.new(1, 0)
    UICorner2.Parent = ToggleMover
    
    local state = default or false
    
    Toggle.MouseButton1Click:Connect(function()
        state = not state
        TweenService:Create(Toggle, TweenInfo.new(0.2), {
            BackgroundColor3 = state and AccentColor or Color3.fromRGB(29, 29, 29)
        }):Play()
        TweenService:Create(ToggleMover, TweenInfo.new(0.2), {
            Position = UDim2.new(state and 0.45 or 0, 2, 0.125, 0)
        }):Play()
        TweenService:Create(ToggleName, TweenInfo.new(0.2), {
            TextColor3 = state and Color3.fromRGB(255, 255, 255) or Color3.fromRGB(161, 161, 161)
        }):Play()
        if callback then callback(state) end
    end)
    
    section.YOffset = section.YOffset + 30
    section.Frame.Size = UDim2.new(0, 210, 0, section.YOffset)
    
    -- Обновляем CanvasSize
    RunService.Heartbeat:Wait()
    updateCanvasSize(self.ElementZone)
    
    return {
        Toggle = Toggle,
        State = function() return state end,
        Set = function(self, value)
            state = value
            TweenService:Create(Toggle, TweenInfo.new(0.2), {
                BackgroundColor3 = state and AccentColor or Color3.fromRGB(29, 29, 29)
            }):Play()
            TweenService:Create(ToggleMover, TweenInfo.new(0.2), {
                Position = UDim2.new(state and 0.45 or 0, 2, 0.125, 0)
            }):Play()
            TweenService:Create(ToggleName, TweenInfo.new(0.2), {
                TextColor3 = state and Color3.fromRGB(255, 255, 255) or Color3.fromRGB(161, 161, 161)
            }):Play()
            if callback then callback(state) end
        end
    }
end

-- Создание кнопки
function Library:CreateButton(section, name, callback)
    local ButtonZone = Instance.new("Frame")
    ButtonZone.Name = "ButtonZone"
    ButtonZone.Size = UDim2.new(0, 210, 0, 35)
    ButtonZone.Position = UDim2.new(0, 0, 0, section.YOffset)
    ButtonZone.BackgroundTransparency = 1
    ButtonZone.Parent = section.Frame
    
    local Button = Instance.new("TextButton")
    Button.Size = UDim2.new(0, 90, 0, 25)
    Button.Position = UDim2.new(0.067, 0, 0.138, 0)
    Button.BackgroundColor3 = AccentColor
    Button.Text = name
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.TextSize = 15
    Button.Font = Enum.Font.SourceSansBold
    Button.Parent = ButtonZone
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 5)
    UICorner.Parent = Button
    
    local Line = Instance.new("Frame")
    Line.Name = "Line"
    Line.Size = UDim2.new(0, 190, 0, 1)
    Line.Position = UDim2.new(0.054, 0, 0.994, 0)
    Line.BackgroundColor3 = Color3.fromRGB(161, 161, 161)
    Line.BackgroundTransparency = 0.95
    Line.Parent = ButtonZone
    
    Button.MouseButton1Click:Connect(function()
        if callback then callback() end
    end)
    
    Button.MouseEnter:Connect(function()
        TweenService:Create(Button, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.fromRGB(170, 27, 255)
        }):Play()
    end)
    
    Button.MouseLeave:Connect(function()
        TweenService:Create(Button, TweenInfo.new(0.2), {
            BackgroundColor3 = AccentColor
        }):Play()
    end)
    
    section.YOffset = section.YOffset + 35
    section.Frame.Size = UDim2.new(0, 210, 0, section.YOffset)
    
    -- Обновляем CanvasSize
    RunService.Heartbeat:Wait()
    updateCanvasSize(self.ElementZone)
    
    return Button
end

-- Создание слайдера
function Library:CreateSlider(section, name, min, max, default, callback)
    local SliderZone = Instance.new("Frame")
    SliderZone.Name = "SliderZone"
    SliderZone.Size = UDim2.new(0, 210, 0, 30)
    SliderZone.Position = UDim2.new(0, 0, 0, section.YOffset)
    SliderZone.BackgroundTransparency = 1
    SliderZone.Parent = section.Frame
    
    local SliderName = Instance.new("TextLabel")
    SliderName.Name = "SliderName"
    SliderName.Size = UDim2.new(0, 79, 0, 30)
    SliderName.Position = UDim2.new(0.051, 0, -0.033, 0)
    SliderName.Text = name
    SliderName.TextColor3 = Color3.fromRGB(255, 255, 255)
    SliderName.TextSize = 12
    SliderName.Font = Enum.Font.SourceSansBold
    SliderName.TextXAlignment = Enum.TextXAlignment.Left
    SliderName.BackgroundTransparency = 1
    SliderName.Parent = SliderZone
    
    local Line = Instance.new("Frame")
    Line.Name = "Line"
    Line.Size = UDim2.new(0, 190, 0, 1)
    Line.Position = UDim2.new(0.054, 0, 0.994, 0)
    Line.BackgroundColor3 = Color3.fromRGB(161, 161, 161)
    Line.BackgroundTransparency = 0.95
    Line.Parent = SliderZone
    
    local SliderLine = Instance.new("Frame")
    SliderLine.Name = "SliderLine"
    SliderLine.Size = UDim2.new(0, 80, 0, 4)
    SliderLine.Position = UDim2.new(0.342, 0, 0.433, 0)
    SliderLine.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
    SliderLine.Parent = SliderZone
    
    local UICorner = Instance.new("UICorner")
    UICorner.Parent = SliderLine
    
    local SliderDot = Instance.new("Frame")
    SliderDot.Name = "SliderDot"
    SliderDot.Size = UDim2.new(0, 10, 0, 10)
    SliderDot.Position = UDim2.new((default - min) / (max - min) * 0.875, 0, -0.75, 0)
    SliderDot.BackgroundColor3 = AccentColor
    SliderDot.Parent = SliderLine
    
    local UICorner2 = Instance.new("UICorner")
    UICorner2.CornerRadius = UDim.new(1, 0)
    UICorner2.Parent = SliderDot
    
    local SliderValue = Instance.new("Frame")
    SliderValue.Name = "SliderValue"
    SliderValue.Size = UDim2.new(0, 30, 0, 12)
    SliderValue.Position = UDim2.new(0.767, 0, 0.3, 0)
    SliderValue.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
    SliderValue.BorderColor3 = Color3.fromRGB(161, 161, 161)
    SliderValue.Parent = SliderZone
    
    local ValueLabel = Instance.new("TextLabel")
    ValueLabel.Size = UDim2.new(1, 0, 1, 0)
    ValueLabel.Text = tostring(default)
    ValueLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    ValueLabel.TextSize = 10
    ValueLabel.Font = Enum.Font.SourceSans
    ValueLabel.BackgroundTransparency = 1
    ValueLabel.Parent = SliderValue
    
    local value = default
    local dragging = false
    
    local function updateValue(newValue)
        value = math.clamp(newValue, min, max)
        local percentage = (value - min) / (max - min)
        TweenService:Create(SliderDot, TweenInfo.new(0.1), {
            Position = UDim2.new(percentage * 0.875, 0, -0.75, 0)
        }):Play()
        ValueLabel.Text = tostring(math.floor(value))
        if callback then callback(value) end
    end
    
    SliderLine.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
        end
    end)
    
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    
    RunService.Heartbeat:Connect(function()
        if dragging then
            local mousePos = UserInputService:GetMouseLocation()
            local sliderPos = SliderLine.AbsolutePosition
            local sliderSize = SliderLine.AbsoluteSize
            local relativeX = (mousePos.X - sliderPos.X) / sliderSize.X
            relativeX = math.clamp(relativeX, 0, 1)
            local newValue = min + (relativeX * (max - min))
            updateValue(newValue)
        end
    end)
    
    section.YOffset = section.YOffset + 30
    section.Frame.Size = UDim2.new(0, 210, 0, section.YOffset)
    
    -- Обновляем CanvasSize
    RunService.Heartbeat:Wait()
    updateCanvasSize(self.ElementZone)
    
    return {
        Value = function() return value end,
        Set = function(self, newValue)
            updateValue(newValue)
        end
    }
end

-- Создание бинда
function Library:CreateBind(section, name, defaultKey, callback)
    local BindZone = Instance.new("Frame")
    BindZone.Name = "BindZone"
    BindZone.Size = UDim2.new(0, 210, 0, 30)
    BindZone.Position = UDim2.new(0, 0, 0, section.YOffset)
    BindZone.BackgroundTransparency = 1
    BindZone.Parent = section.Frame
    
    local BindName = Instance.new("TextLabel")
    BindName.Name = "BindName"
    BindName.Size = UDim2.new(0, 79, 0, 30)
    BindName.Position = UDim2.new(0.051, 0, -0.033, 0)
    BindName.Text = name
    BindName.TextColor3 = Color3.fromRGB(255, 255, 255)
    BindName.TextSize = 12
    BindName.Font = Enum.Font.SourceSansBold
    BindName.TextXAlignment = Enum.TextXAlignment.Left
    BindName.BackgroundTransparency = 1
    BindName.Parent = BindZone
    
    local Line = Instance.new("Frame")
    Line.Name = "Line"
    Line.Size = UDim2.new(0, 190, 0, 1)
    Line.Position = UDim2.new(0.054, 0, 0.994, 0)
    Line.BackgroundColor3 = Color3.fromRGB(161, 161, 161)
    Line.BackgroundTransparency = 0.95
    Line.Parent = BindZone
    
    local Bind = Instance.new("Frame")
    Bind.Name = "Bind"
    Bind.Size = UDim2.new(0, 60, 0, 15)
    Bind.Position = UDim2.new(0.6, 0, 0.233, 0)
    Bind.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
    Bind.Parent = BindZone
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 4)
    UICorner.Parent = Bind
    
    local BindNameLabel = Instance.new("TextLabel")
    BindNameLabel.Name = "BindName"
    BindNameLabel.Size = UDim2.new(1, 0, 1, 0)
    BindNameLabel.Text = defaultKey and defaultKey.Name or "None"
    BindNameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    BindNameLabel.TextSize = 12
    BindNameLabel.Font = Enum.Font.SourceSansBold
    BindNameLabel.BackgroundTransparency = 1
    BindNameLabel.Parent = Bind
    
    local currentKey = defaultKey
    local listening = false
    
    Bind.MouseButton1Click:Connect(function()
        listening = true
        BindNameLabel.Text = "..."
        Bind.BackgroundColor3 = AccentColor
    end)
    
    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if gameProcessed then return end
        if listening then
            if input.KeyCode ~= Enum.KeyCode.Unknown then
                currentKey = input.KeyCode
                BindNameLabel.Text = input.KeyCode.Name
                listening = false
                Bind.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
            end
        else
            if input.KeyCode == currentKey and callback then
                callback(currentKey)
            end
        end
    end)
    
    section.YOffset = section.YOffset + 30
    section.Frame.Size = UDim2.new(0, 210, 0, section.YOffset)
    
    -- Обновляем CanvasSize
    RunService.Heartbeat:Wait()
    updateCanvasSize(self.ElementZone)
    
    return {
        Key = function() return currentKey end,
        Set = function(self, key)
            currentKey = key
            BindNameLabel.Text = key.Name
        end
    }
end

-- Создание инпута
function Library:CreateInput(section, name, placeholder, callback)
    local InputZone = Instance.new("Frame")
    InputZone.Name = "InputZone"
    InputZone.Size = UDim2.new(0, 210, 0, 40)
    InputZone.Position = UDim2.new(0, 0, 0, section.YOffset)
    InputZone.BackgroundTransparency = 1
    InputZone.Parent = section.Frame
    
    local InputName = Instance.new("TextLabel")
    InputName.Name = "InputName"
    InputName.Size = UDim2.new(0, 79, 0, 14)
    InputName.Position = UDim2.new(0.137, 0, -0.008, 0)
    InputName.Text = name
    InputName.TextColor3 = Color3.fromRGB(255, 255, 255)
    InputName.TextSize = 10
    InputName.Font = Enum.Font.SourceSans
    InputName.TextXAlignment = Enum.TextXAlignment.Left
    InputName.BackgroundTransparency = 1
    InputName.Parent = InputZone
    
    local Input = Instance.new("TextBox")
    Input.Name = "Input"
    Input.Size = UDim2.new(0, 170, 0, 20)
    Input.Position = UDim2.new(0.091, 0, 0.35, 0)
    Input.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
    Input.Text = ""
    Input.PlaceholderText = placeholder or ""
    Input.TextColor3 = Color3.fromRGB(255, 255, 255)
    Input.TextSize = 10
    Input.Font = Enum.Font.SourceSansBold
    Input.TextXAlignment = Enum.TextXAlignment.Left
    Input.Parent = InputZone
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 4)
    UICorner.Parent = Input
    
    local Line = Instance.new("Frame")
    Line.Name = "Line"
    Line.Size = UDim2.new(0, 190, 0, 1)
    Line.Position = UDim2.new(0.054, 0, 0.994, 0)
    Line.BackgroundColor3 = Color3.fromRGB(161, 161, 161)
    Line.BackgroundTransparency = 0.95
    Line.Parent = InputZone
    
    Input.FocusLost:Connect(function(enterPressed)
        if callback then callback(Input.Text, enterPressed) end
    end)
    
    section.YOffset = section.YOffset + 40
    section.Frame.Size = UDim2.new(0, 210, 0, section.YOffset)
    
    -- Обновляем CanvasSize
    RunService.Heartbeat:Wait()
    updateCanvasSize(self.ElementZone)
    
    return Input
end

-- Создание дропдауна
function Library:CreateDropdown(section, name, options, default, callback)
    local DropdownZone = Instance.new("Frame")
    DropdownZone.Name = "DropdownZone"
    DropdownZone.Size = UDim2.new(0, 210, 0, 35)
    DropdownZone.Position = UDim2.new(0, 0, 0, section.YOffset)
    DropdownZone.BackgroundTransparency = 1
    DropdownZone.Parent = section.Frame
    
    local DropdownName = Instance.new("TextLabel")
    DropdownName.Name = "DropdownName"
    DropdownName.Size = UDim2.new(0, 76, 0, 34)
    DropdownName.Position = UDim2.new(0.054, 0, 0.011, 0)
    DropdownName.Text = name
    DropdownName.TextColor3 = Color3.fromRGB(255, 255, 255)
    DropdownName.TextSize = 12
    DropdownName.Font = Enum.Font.SourceSansBold
    DropdownName.TextXAlignment = Enum.TextXAlignment.Left
    DropdownName.BackgroundTransparency = 1
    DropdownName.Parent = DropdownZone
    
    local DropdownButton = Instance.new("TextButton")
    DropdownButton.Name = "DropdownButton"
    DropdownButton.Size = UDim2.new(0, 111, 0, 24)
    DropdownButton.Position = UDim2.new(0.423, 0, 0.134, 0)
    DropdownButton.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
    DropdownButton.Text = ""
    DropdownButton.ClipsDescendants = true
    DropdownButton.Parent = DropdownZone
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 4)
    UICorner.Parent = DropdownButton
    
    local Selected = Instance.new("TextLabel")
    Selected.Name = "Selected"
    Selected.Size = UDim2.new(0, 104, 0, 13)
    Selected.Position = UDim2.new(0.056, 0, 0.208, 0)
    Selected.Text = default or options[1] or "None"
    Selected.TextColor3 = Color3.fromRGB(255, 255, 255)
    Selected.TextSize = 12
    Selected.Font = Enum.Font.SourceSansBold
    Selected.TextXAlignment = Enum.TextXAlignment.Left
    Selected.BackgroundTransparency = 1
    Selected.Parent = DropdownButton
    
    local Arrow = Instance.new("ImageLabel")
    Arrow.Name = "Arrow"
    Arrow.Size = UDim2.new(0, 10, 0, 10)
    Arrow.Position = UDim2.new(0.867, 0, 0.265, 0)
    Arrow.Image = "rbxassetid://13116390649"
    Arrow.BackgroundTransparency = 1
    Arrow.Parent = DropdownButton
    
    local Line = Instance.new("Frame")
    Line.Name = "Line"
    Line.Size = UDim2.new(0, 190, 0, 1)
    Line.Position = UDim2.new(0.054, 0, 0.994, 0)
    Line.BackgroundColor3 = Color3.fromRGB(161, 161, 161)
    Line.BackgroundTransparency = 0.95
    Line.Parent = DropdownZone
    
    local DropdownList = Instance.new("ScrollingFrame")
    DropdownList.Name = "DropdownList"
    DropdownList.Size = UDim2.new(0, 111, 0, 0)
    DropdownList.Position = UDim2.new(0.423, 0, 0.134, 24)
    DropdownList.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
    DropdownList.BorderSizePixel = 0
    DropdownList.ScrollBarThickness = 2
    DropdownList.Visible = false
    DropdownList.Parent = DropdownZone
    
    local UICorner2 = Instance.new("UICorner")
    UICorner2.CornerRadius = UDim.new(0, 4)
    UICorner2.Parent = DropdownList
    
    local isOpen = false
    local selectedOption = default or options[1]
    
    local function updateList()
        DropdownList:ClearAllChildren()
        local yPos = 0
        for i, option in ipairs(options) do
            local OptionButton = Instance.new("TextButton")
            OptionButton.Size = UDim2.new(1, 0, 0, 20)
            OptionButton.Position = UDim2.new(0, 0, 0, yPos)
            OptionButton.BackgroundColor3 = option == selectedOption and AccentColor or Color3.fromRGB(29, 29, 29)
            OptionButton.Text = option
            OptionButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            OptionButton.TextSize = 11
            OptionButton.Font = Enum.Font.SourceSans
            OptionButton.Parent = DropdownList
            
            OptionButton.MouseButton1Click:Connect(function()
                selectedOption = option
                Selected.Text = option
                isOpen = false
                DropdownList.Visible = false
                TweenService:Create(DropdownList, TweenInfo.new(0.2), {
                    Size = UDim2.new(0, 111, 0, 0)
                }):Play()
                if callback then callback(option) end
            end)
            
            yPos = yPos + 20
        end
        DropdownList.CanvasSize = UDim2.new(0, 0, 0, yPos)
    end
    
    DropdownButton.MouseButton1Click:Connect(function()
        isOpen = not isOpen
        if isOpen then
            updateList()
            DropdownList.Visible = true
            TweenService:Create(DropdownList, TweenInfo.new(0.2), {
                Size = UDim2.new(0, 111, 0, math.min(#options * 20, 100))
            }):Play()
        else
            DropdownList.Visible = false
            TweenService:Create(DropdownList, TweenInfo.new(0.2), {
                Size = UDim2.new(0, 111, 0, 0)
            }):Play()
        end
    end)
    
    updateList()
    
    section.YOffset = section.YOffset + 35
    section.Frame.Size = UDim2.new(0, 210, 0, section.YOffset)
    
    -- Обновляем CanvasSize
    RunService.Heartbeat:Wait()
    updateCanvasSize(self.ElementZone)
    
    return {
        Selected = function() return selectedOption end,
        Set = function(self, option)
            if table.find(options, option) then
                selectedOption = option
                Selected.Text = option
                if callback then callback(option) end
            end
        end
    }
end

-- Создание уведомления
function Library:Notify(title, text, duration)
    duration = duration or 3
    
    local Notifi = self.Window:FindFirstChild("Notifi") or Instance.new("ScreenGui")
    Notifi.Name = "Notifi"
    Notifi.Parent = CoreGui
    
    local NotifiList = Notifi:FindFirstChild("NotifiList") or Instance.new("Frame")
    NotifiList.Name = "NotifiList"
    NotifiList.Size = UDim2.new(0, 250, 0, 150)
    NotifiList.Position = UDim2.new(0.573, 0, 0.748, 0)
    NotifiList.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    NotifiList.BackgroundTransparency = 0.9
    NotifiList.Parent = Notifi
    
    local Notification = Instance.new("Frame")
    Notification.Name = "Notification"
    Notification.Size = UDim2.new(0, 250, 0, 25)
    Notification.Position = UDim2.new(0, 0, 1, 0)
    Notification.BackgroundColor3 = Color3.fromRGB(23, 23, 23)
    Notification.BackgroundTransparency = 0.4
    Notification.ClipsDescendants = true
    Notification.Parent = NotifiList
    
    local UICorner = Instance.new("UICorner")
    UICorner.Parent = Notification
    
    local Point = Instance.new("Frame")
    Point.Name = "Point"
    Point.Size = UDim2.new(0, 2, 0, 55)
    Point.Position = UDim2.new(0.101, 0, -0.28, 0)
    Point.BackgroundColor3 = AccentColor
    Point.Parent = Notification
    
    local UICorner2 = Instance.new("UICorner")
    UICorner2.Parent = Point
    
    local ImageNotifi = Instance.new("ImageLabel")
    ImageNotifi.Name = "ImageNotifi"
    ImageNotifi.Size = UDim2.new(0, 15, 0, 15)
    ImageNotifi.Position = UDim2.new(0.02, 0, 0.2, 0)
    ImageNotifi.Image = "rbxassetid://125196888175857"
    ImageNotifi.ImageColor3 = Color3.fromRGB(255, 255, 255)
    ImageNotifi.ZIndex = 6
    ImageNotifi.BackgroundTransparency = 1
    ImageNotifi.Parent = Notification
    
    local UICorner3 = Instance.new("UICorner")
    UICorner3.Parent = ImageNotifi
    
    local NotifiText = Instance.new("TextLabel")
    NotifiText.Name = "NotifiText"
    NotifiText.Size = UDim2.new(0, 207, 0, 19)
    NotifiText.Position = UDim2.new(0.135, 0, 0.098, 0)
    NotifiText.Text = text
    NotifiText.TextColor3 = Color3.fromRGB(255, 255, 255)
    NotifiText.TextSize = 13
    NotifiText.Font = Enum.Font.SourceSansBold
    NotifiText.BackgroundTransparency = 1
    NotifiText.Parent = Notification
    
    TweenService:Create(Notification, TweenInfo.new(0.3), {
        Position = UDim2.new(0, 0, 0.827, 0)
    }):Play()
    
    wait(duration)
    
    TweenService:Create(Notification, TweenInfo.new(0.3), {
        Position = UDim2.new(0, 0, 1, 0),
        BackgroundTransparency = 1
    }):Play()
    
    wait(0.3)
    Notification:Destroy()
end

-- Инициализация
function Library:Init()
    -- Здесь можно добавить дополнительную инициализацию
    self:Notify("UI Loaded", "Interface ready!", 2)
end

return Library
